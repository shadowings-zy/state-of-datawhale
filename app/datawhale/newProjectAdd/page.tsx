"use client";

import { useEffect } from "react";
import styles from "./page.module.css";
import * as echarts from "echarts";

const source = [
  {
    name: 'pumpkin-book',
    monthlyStars: {
      '2024-1': 148,
      '2024-2': 122,
      '2024-3': 168,
      '2024-4': 181,
      '2024-5': 171,
      '2024-6': 195,
      '2024-7': 170,
      '2024-8': 156,
      '2024-9': 165,
      '2024-10': 161,
      '2024-11': 156,
      '2024-12': 136
    },
    monthlyTotalStars: {
      '2024-1': 22455,
      '2024-2': 22577,
      '2024-3': 22745,
      '2024-4': 22926,
      '2024-5': 23097,
      '2024-6': 23292,
      '2024-7': 23462,
      '2024-8': 23618,
      '2024-9': 23783,
      '2024-10': 23944,
      '2024-11': 24100,
      '2024-12': 24236
    }
  },
  {
    name: 'leedl-tutorial',
    monthlyStars: {
      '2024-1': 274,
      '2024-2': 273,
      '2024-3': 252,
      '2024-4': 365,
      '2024-5': 351,
      '2024-6': 884,
      '2024-7': 546,
      '2024-8': 1415,
      '2024-9': 396,
      '2024-10': 427,
      '2024-11': 305,
      '2024-12': 221
    },
    monthlyTotalStars: {
      '2024-1': 8695,
      '2024-2': 8968,
      '2024-3': 9220,
      '2024-4': 9585,
      '2024-5': 9936,
      '2024-6': 10820,
      '2024-7': 11366,
      '2024-8': 12781,
      '2024-9': 13177,
      '2024-10': 13604,
      '2024-11': 13909,
      '2024-12': 14130
    }
  },
  {
    name: 'llm-cookbook',
    monthlyStars: {
      '2024-1': 402,
      '2024-2': 312,
      '2024-3': 501,
      '2024-4': 712,
      '2024-5': 455,
      '2024-6': 468,
      '2024-7': 521,
      '2024-8': 355,
      '2024-9': 342,
      '2024-10': 253,
      '2024-11': 354,
      '2024-12': 477
    },
    monthlyTotalStars: {
      '2024-1': 7817,
      '2024-2': 8129,
      '2024-3': 8630,
      '2024-4': 9342,
      '2024-5': 9797,
      '2024-6': 10265,
      '2024-7': 10786,
      '2024-8': 11141,
      '2024-9': 11483,
      '2024-10': 11736,
      '2024-11': 12090,
      '2024-12': 12567
    }
  },
  {
    name: 'self-llm',
    monthlyStars: {
      '2024-1': 449,
      '2024-2': 249,
      '2024-3': 423,
      '2024-4': 2607,
      '2024-5': 858,
      '2024-6': 1141,
      '2024-7': 923,
      '2024-8': 740,
      '2024-9': 678,
      '2024-10': 771,
      '2024-11': 808,
      '2024-12': 847
    },
    monthlyTotalStars: {
      '2024-1': 543,
      '2024-2': 792,
      '2024-3': 1215,
      '2024-4': 3822,
      '2024-5': 4680,
      '2024-6': 5821,
      '2024-7': 6744,
      '2024-8': 7484,
      '2024-9': 8162,
      '2024-10': 8933,
      '2024-11': 9741,
      '2024-12': 10588
    }
  },
  {
    name: 'easy-rl',
    monthlyStars: {
      '2024-1': 170,
      '2024-2': 125,
      '2024-3': 167,
      '2024-4': 204,
      '2024-5': 181,
      '2024-6': 210,
      '2024-7': 219,
      '2024-8': 191,
      '2024-9': 228,
      '2024-10': 221,
      '2024-11': 238,
      '2024-12': 226
    },
    monthlyTotalStars: {
      '2024-1': 7611,
      '2024-2': 7736,
      '2024-3': 7903,
      '2024-4': 8107,
      '2024-5': 8288,
      '2024-6': 8498,
      '2024-7': 8717,
      '2024-8': 8908,
      '2024-9': 9136,
      '2024-10': 9357,
      '2024-11': 9595,
      '2024-12': 9821
    }
  },
  {
    name: 'llm-universe',
    monthlyStars: {
      '2024-1': 115,
      '2024-2': 140,
      '2024-3': 232,
      '2024-4': 1352,
      '2024-5': 534,
      '2024-6': 390,
      '2024-7': 586,
      '2024-8': 289,
      '2024-9': 237,
      '2024-10': 189,
      '2024-11': 220,
      '2024-12': 269
    },
    monthlyTotalStars: {
      '2024-1': 677,
      '2024-2': 817,
      '2024-3': 1049,
      '2024-4': 2401,
      '2024-5': 2935,
      '2024-6': 3325,
      '2024-7': 3911,
      '2024-8': 4200,
      '2024-9': 4437,
      '2024-10': 4626,
      '2024-11': 4846,
      '2024-12': 5115
    }
  },
  {
    name: 'fun-rec',
    monthlyStars: {
      '2024-1': 81,
      '2024-2': 91,
      '2024-3': 139,
      '2024-4': 148,
      '2024-5': 140,
      '2024-6': 156,
      '2024-7': 183,
      '2024-8': 173,
      '2024-9': 172,
      '2024-10': 193,
      '2024-11': 277,
      '2024-12': 216
    },
    monthlyTotalStars: {
      '2024-1': 2987,
      '2024-2': 3078,
      '2024-3': 3217,
      '2024-4': 3365,
      '2024-5': 3505,
      '2024-6': 3661,
      '2024-7': 3844,
      '2024-8': 4017,
      '2024-9': 4189,
      '2024-10': 4382,
      '2024-11': 4659,
      '2024-12': 4875
    }
  },
  {
    name: 'joyful-pandas',
    monthlyStars: {
      '2024-1': 52,
      '2024-2': 42,
      '2024-3': 75,
      '2024-4': 60,
      '2024-5': 42,
      '2024-6': 51,
      '2024-7': 76,
      '2024-8': 59,
      '2024-9': 56,
      '2024-10': 34,
      '2024-11': 35,
      '2024-12': 41
    },
    monthlyTotalStars: {
      '2024-1': 4136,
      '2024-2': 4178,
      '2024-3': 4253,
      '2024-4': 4313,
      '2024-5': 4355,
      '2024-6': 4406,
      '2024-7': 4482,
      '2024-8': 4541,
      '2024-9': 4597,
      '2024-10': 4631,
      '2024-11': 4666,
      '2024-12': 4707
    }
  },
  {
    name: 'competition-baseline',
    monthlyStars: {
      '2024-1': 42,
      '2024-2': 40,
      '2024-3': 58,
      '2024-4': 48,
      '2024-5': 48,
      '2024-6': 46,
      '2024-7': 52,
      '2024-8': 53,
      '2024-9': 66,
      '2024-10': 43,
      '2024-11': 33,
      '2024-12': 23
    },
    monthlyTotalStars: {
      '2024-1': 3824,
      '2024-2': 3864,
      '2024-3': 3922,
      '2024-4': 3970,
      '2024-5': 4018,
      '2024-6': 4064,
      '2024-7': 4116,
      '2024-8': 4169,
      '2024-9': 4235,
      '2024-10': 4278,
      '2024-11': 4311,
      '2024-12': 4334
    }
  },
  {
    name: 'so-large-lm',
    monthlyStars: {
      '2024-1': 90,
      '2024-2': 37,
      '2024-3': 226,
      '2024-4': 394,
      '2024-5': 564,
      '2024-6': 281,
      '2024-7': 459,
      '2024-8': 281,
      '2024-9': 221,
      '2024-10': 191,
      '2024-11': 259,
      '2024-12': 238
    },
    monthlyTotalStars: {
      '2024-1': 181,
      '2024-2': 218,
      '2024-3': 444,
      '2024-4': 838,
      '2024-5': 1402,
      '2024-6': 1683,
      '2024-7': 2142,
      '2024-8': 2423,
      '2024-9': 2644,
      '2024-10': 2835,
      '2024-11': 3094,
      '2024-12': 3332
    }
  },
  {
    name: 'hugging-llm',
    monthlyStars: {
      '2024-1': 42,
      '2024-2': 123,
      '2024-3': 263,
      '2024-4': 130,
      '2024-5': 70,
      '2024-6': 59,
      '2024-7': 45,
      '2024-8': 48,
      '2024-9': 37,
      '2024-10': 34,
      '2024-11': 22,
      '2024-12': 34
    },
    monthlyTotalStars: {
      '2024-1': 1954,
      '2024-2': 2077,
      '2024-3': 2340,
      '2024-4': 2470,
      '2024-5': 2540,
      '2024-6': 2599,
      '2024-7': 2644,
      '2024-8': 2692,
      '2024-9': 2729,
      '2024-10': 2763,
      '2024-11': 2785,
      '2024-12': 2819
    }
  },
  {
    name: 'thorough-pytorch',
    monthlyStars: {
      '2024-1': 64,
      '2024-2': 40,
      '2024-3': 80,
      '2024-4': 61,
      '2024-5': 79,
      '2024-6': 112,
      '2024-7': 105,
      '2024-8': 95,
      '2024-9': 98,
      '2024-10': 99,
      '2024-11': 100,
      '2024-12': 76
    },
    monthlyTotalStars: {
      '2024-1': 1754,
      '2024-2': 1794,
      '2024-3': 1874,
      '2024-4': 1935,
      '2024-5': 2014,
      '2024-6': 2126,
      '2024-7': 2231,
      '2024-8': 2326,
      '2024-9': 2424,
      '2024-10': 2523,
      '2024-11': 2623,
      '2024-12': 2699
    }
  },
  {
    name: 'daily-interview',
    monthlyStars: {
      '2024-1': 28,
      '2024-2': 29,
      '2024-3': 40,
      '2024-4': 56,
      '2024-5': 37,
      '2024-6': 43,
      '2024-7': 49,
      '2024-8': 56,
      '2024-9': 52,
      '2024-10': 46,
      '2024-11': 59,
      '2024-12': 35
    },
    monthlyTotalStars: {
      '2024-1': 2161,
      '2024-2': 2190,
      '2024-3': 2230,
      '2024-4': 2286,
      '2024-5': 2323,
      '2024-6': 2366,
      '2024-7': 2415,
      '2024-8': 2471,
      '2024-9': 2523,
      '2024-10': 2569,
      '2024-11': 2628,
      '2024-12': 2663
    }
  },
  {
    name: 'learn-nlp-with-transformers',
    monthlyStars: {
      '2024-1': 60,
      '2024-2': 39,
      '2024-3': 94,
      '2024-4': 72,
      '2024-5': 68,
      '2024-6': 86,
      '2024-7': 155,
      '2024-8': 121,
      '2024-9': 96,
      '2024-10': 95,
      '2024-11': 103,
      '2024-12': 91
    },
    monthlyTotalStars: {
      '2024-1': 1444,
      '2024-2': 1483,
      '2024-3': 1577,
      '2024-4': 1649,
      '2024-5': 1717,
      '2024-6': 1803,
      '2024-7': 1958,
      '2024-8': 2079,
      '2024-9': 2175,
      '2024-10': 2270,
      '2024-11': 2373,
      '2024-12': 2464
    }
  },
  {
    name: 'team-learning',
    monthlyStars: {
      '2024-1': 3,
      '2024-2': 3,
      '2024-3': 12,
      '2024-4': 13,
      '2024-5': 14,
      '2024-6': 10,
      '2024-7': 18,
      '2024-8': 5,
      '2024-9': 16,
      '2024-10': 8,
      '2024-11': 10,
      '2024-12': 8
    },
    monthlyTotalStars: {
      '2024-1': 2106,
      '2024-2': 2109,
      '2024-3': 2121,
      '2024-4': 2134,
      '2024-5': 2148,
      '2024-6': 2158,
      '2024-7': 2176,
      '2024-8': 2181,
      '2024-9': 2197,
      '2024-10': 2205,
      '2024-11': 2215,
      '2024-12': 2223
    }
  },
  {
    name: 'llms-from-scratch-cn',
    monthlyStars: {
      '2024-2': 4,
      '2024-3': 17,
      '2024-4': 37,
      '2024-5': 129,
      '2024-6': 291,
      '2024-7': 248,
      '2024-8': 216,
      '2024-9': 242,
      '2024-10': 166,
      '2024-11': 286,
      '2024-12': 299
    },
    monthlyTotalStars: {
      '2024-2': 4,
      '2024-3': 21,
      '2024-4': 58,
      '2024-5': 187,
      '2024-6': 478,
      '2024-7': 726,
      '2024-8': 942,
      '2024-9': 1184,
      '2024-10': 1350,
      '2024-11': 1636,
      '2024-12': 1935
    }
  },
  {
    name: 'tiny-universe',
    monthlyStars: {
      '2024-4': 4,
      '2024-5': 338,
      '2024-6': 125,
      '2024-7': 166,
      '2024-8': 185,
      '2024-9': 320,
      '2024-10': 128,
      '2024-11': 314,
      '2024-12': 216
    },
    monthlyTotalStars: {
      '2024-4': 4,
      '2024-5': 342,
      '2024-6': 467,
      '2024-7': 633,
      '2024-8': 818,
      '2024-9': 1138,
      '2024-10': 1266,
      '2024-11': 1580,
      '2024-12': 1796
    }
  },
  {
    name: 'statistical-learning-method-solutions-manual',
    monthlyStars: {
      '2024-1': 41,
      '2024-2': 24,
      '2024-3': 30,
      '2024-4': 33,
      '2024-5': 37,
      '2024-6': 32,
      '2024-7': 28,
      '2024-8': 18,
      '2024-9': 30,
      '2024-10': 26,
      '2024-11': 33,
      '2024-12': 18
    },
    monthlyTotalStars: {
      '2024-1': 1476,
      '2024-2': 1500,
      '2024-3': 1530,
      '2024-4': 1563,
      '2024-5': 1600,
      '2024-6': 1632,
      '2024-7': 1660,
      '2024-8': 1678,
      '2024-9': 1708,
      '2024-10': 1734,
      '2024-11': 1767,
      '2024-12': 1785
    }
  },
  {
    name: 'team-learning-data-mining',
    monthlyStars: {
      '2024-1': 11,
      '2024-2': 18,
      '2024-3': 17,
      '2024-4': 17,
      '2024-5': 16,
      '2024-6': 16,
      '2024-7': 19,
      '2024-8': 14,
      '2024-9': 26,
      '2024-10': 13,
      '2024-11': 21,
      '2024-12': 22
    },
    monthlyTotalStars: {
      '2024-1': 1444,
      '2024-2': 1462,
      '2024-3': 1479,
      '2024-4': 1496,
      '2024-5': 1512,
      '2024-6': 1528,
      '2024-7': 1547,
      '2024-8': 1561,
      '2024-9': 1587,
      '2024-10': 1600,
      '2024-11': 1621,
      '2024-12': 1643
    }
  },
  {
    name: 'key-book',
    monthlyStars: {
      '2024-1': 4,
      '2024-2': 2,
      '2024-3': 11,
      '2024-4': 20,
      '2024-5': 25,
      '2024-6': 8,
      '2024-7': 53,
      '2024-8': 28,
      '2024-9': 27,
      '2024-10': 20,
      '2024-11': 16,
      '2024-12': 14
    },
    monthlyTotalStars: {
      '2024-1': 1347,
      '2024-2': 1349,
      '2024-3': 1360,
      '2024-4': 1380,
      '2024-5': 1405,
      '2024-6': 1413,
      '2024-7': 1466,
      '2024-8': 1494,
      '2024-9': 1521,
      '2024-10': 1541,
      '2024-11': 1557,
      '2024-12': 1571
    }
  },
  {
    name: 'hugging-multi-agent',
    monthlyStars: {
      '2024-1': 13,
      '2024-2': 46,
      '2024-3': 590,
      '2024-4': 476,
      '2024-5': 76,
      '2024-6': 41,
      '2024-7': 39,
      '2024-8': 24,
      '2024-9': 23,
      '2024-10': 22,
      '2024-11': 26,
      '2024-12': 23
    },
    monthlyTotalStars: {
      '2024-1': 16,
      '2024-2': 62,
      '2024-3': 652,
      '2024-4': 1128,
      '2024-5': 1204,
      '2024-6': 1245,
      '2024-7': 1284,
      '2024-8': 1308,
      '2024-9': 1331,
      '2024-10': 1353,
      '2024-11': 1379,
      '2024-12': 1402
    }
  },
  {
    name: 'hands-on-data-analysis',
    monthlyStars: {
      '2024-1': 14,
      '2024-2': 4,
      '2024-3': 39,
      '2024-4': 20,
      '2024-5': 24,
      '2024-6': 24,
      '2024-7': 17,
      '2024-8': 21,
      '2024-9': 22,
      '2024-10': 17,
      '2024-11': 14,
      '2024-12': 8
    },
    monthlyTotalStars: {
      '2024-1': 978,
      '2024-2': 982,
      '2024-3': 1021,
      '2024-4': 1041,
      '2024-5': 1065,
      '2024-6': 1089,
      '2024-7': 1106,
      '2024-8': 1127,
      '2024-9': 1149,
      '2024-10': 1166,
      '2024-11': 1180,
      '2024-12': 1188
    }
  }
]
export default function Home() {
  const generateSeriesList = () => {
    const seriesList: any[] = [];
    source.forEach((item) => {
      const data = Object.keys(item.monthlyStars).reduce((acc, month) => {
        const curr = item.monthlyStars[month as keyof typeof item.monthlyStars] || 0;
        acc.push(acc[acc.length - 1] + curr);
        return acc;
      }, [0]);
      seriesList.push({
        name: item.name,
        type: 'line',
        smooth: true,
        endLabel: {
          show: true,
          formatter: "{a}",
          distance: 20,
        },
        data: data
      });
    });
    return seriesList;
  };

  useEffect(() => {
    const myChart = echarts.init(document.getElementById("echart"));
    const option = {
      // animationDuration: 10000,
      title: {
        text: 'Datawhale新创建的项目Star增长数'
      },
      tooltip: {
        trigger: 'item'
      },
      legend: {
        data: source.map((item) => item.name),
        orient: 'horizontal',
        top: 40
      },
      grid: {
        left: 30,
        right: 200,
        bottom: 30,
        top: 150,
        containLabel: true
      },
      toolbox: {
        feature: {
          saveAsImage: {}
        }
      },
      xAxis: {
        type: 'category',
        boundaryGap: false,
        data: ["2024-1", "2024-2", "2024-3", "2024-4", "2024-5", "2024-6", "2024-7", "2024-8", "2024-9", "2024-10", "2024-11", "2024-12"]
      },
      yAxis: {
        type: 'value'
      },
      series: generateSeriesList()
    };

    option && myChart.setOption(option);
  }, []);

  return (
    <div className={styles.page}>
      <div id="echart" className={styles.chart}></div>
    </div>
  );
}
